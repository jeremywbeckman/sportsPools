<script type="text/ng-template" id="/register.html">
   <div class="page-header">
      <h1>Register to play</h1>
   </div>
   <div ng-show="error.message" class="alert alert-danger row">
      <span>{{ error.message }}</span>
   </div>
   <form name="registrationForm" ng-submit="registerUser()" novalidate>
      <div class="form-group">
         <input type="text"
                class="form-control"
                name="username"
                ng-minlength="4"
                ng-maxlength="20"
                maxlength="30"
                placeholder="Username"
                required
                ng-change="validateUsername()"
                ng-model="user.username"/>
         <p ng-show="usernameMessage" class="help-block">{{ usernameMessage }}</p>
         <p ng-show="registrationForm.username.$invalid &&
                     !registrationForm.username.$error.minlength &&
                     !registrationForm.username.$error.maxlength"
            class="help-block">
            Required
         </p>
         <p ng-show="registrationForm.username.$error.minlength &&
                     !registrationForm.username.$pristine"
            class="help-block">
            Username must be at least 4 characters
         </p>
         <p ng-show="registrationForm.username.$error.maxlength &&
                     !registrationForm.username.$pristine"
            class="help-block">
            Username can be no more than 20 characters
         </p>
         <p class="help-block">Usernames cannot be changed once created</p>
      </div>
      <div class="form-group">
         <input type="email"
                class="form-control"
                name="email"
                maxlength="100"
                placeholder="Email Address"
                required
                ng-model="user.email"/>
         <p ng-show="registrationForm.email.$pristine"
            class="help-block">
            Required
         </p>
         <p ng-show="registrationForm.email.$invalid &&
                     !registrationForm.email.$pristine"
            class="help-block">
            Email address must be valid
         </p>
      </div>
      <div class="form-group">
         <input type="text"
                class="form-control"
                name="firstname"
                maxlength="30"
                placeholder="First Name"
                required
                ng-model="user.firstname"/>
         <p ng-show="registrationForm.firstname.$pristine"
            class="help-block">
            Required
         </p>
         <p ng-show="registrationForm.firstname.$error.maxlength &&
                     !registrationForm.firstname.$pristine"
            class="help-block">
            First name can be no more than 30 characters
         </p>
      </div>
      <div class="form-group">
         <input type="text"
                class="form-control"
                name="lastname"
                maxlength="30"
                placeholder="Last Name"
                required
                ng-model="user.lastname"/>
         <p ng-show="registrationForm.lastname.$pristine"
            class="help-block">
            Required
         </p>
         <p ng-show="registrationForm.lastname.$error.maxlength &&
                     !registrationForm.lastname.$pristine"
            class="help-block">
            Last name can be no more than 30 characters
         </p>
      </div>
      <div class="form-group">
         <input type="password"
                class="form-control"
                name="password"
                ng-minlength="8"
                ng-maxlength="30"
                maxlength="40"
                placeholder="Password"
                required
                ng-change="validatePassword()"
                ng-model="user.password"/>
         <p ng-show="passwordMessage" class="help-block">{{ passwordMessage }}</p>
         <p ng-show="registrationForm.password.$pristine"
            class="help-block">
            Required
         </p>
         <p ng-show="registrationForm.password.$error.minlength &&
                     !registrationForm.password.$pristine"
            class="help-block">
            Password must be at least 8 characters
         </p>
         <p ng-show="registrationForm.password.$error.maxlength &&
                     !registrationForm.password.$pristine"
            class="help-block">
            Password can be no more than 30 characters
         </p>
      </div>
      <div class="form-group">
         <input type="password"
                class="form-control"
                name="verify"
                maxlength="40"
                placeholder="Verify Password"
                required
                ng-change="validateVerify()"
                ng-model="user.verify"/>
         <p ng-show="verifyMessage" class="help-block">{{ verifyMessage }}</p>
         <p ng-show="registrationForm.verify.$pristine"
            class="help-block">
            Required
         </p>
      </div>
      <button type="submit"
              class="btn btn-primary"
              ng-disabled="registrationForm.$invalid || !validateForm()">
         Register
      </button>
   </form>
</script>